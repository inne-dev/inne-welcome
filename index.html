<!doctype html>
<html lang="en" class="dark">
    <head>
        <meta charset="UTF-8" />
        <link rel="icon" type="image/svg+xml" href="/vite.svg" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Inne - Backend Developer</title>
        <script>
            // Detect system preferences and prevent theme flashing
            (function () {
                let theme = localStorage.getItem("inne-theme");
                let language = localStorage.getItem("inne-language");

                // Set system theme on first visit
                if (!theme) {
                    const prefersDark = window.matchMedia(
                        "(prefers-color-scheme: dark)",
                    ).matches;
                    theme = prefersDark ? "dark" : "light";
                    localStorage.setItem("inne-theme", theme);
                }

                // Set system language on first visit
                if (!language) {
                    const systemLang = navigator.language.toLowerCase();
                    if (
                        systemLang.includes("uk") ||
                        systemLang.includes("ua")
                    ) {
                        language = "uk";
                    } else if (systemLang.includes("ru")) {
                        language = "ru";
                    } else {
                        language = "en";
                    }
                    localStorage.setItem("inne-language", language);
                }

                // Apply theme immediately
                if (theme === "light") {
                    document.documentElement.classList.remove("dark");
                }
            })();
        </script>
    </head>
    <body>
        <div id="root"></div>
        <script type="module" src="/src/main.tsx"></script>
    </body>
</html>
